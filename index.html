
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Jordon Wu&#8217;s Blog</title>
  <meta name="author" content="Jordon Wu">

  
  <meta name="description" content="1. Configuring a remote for a fork To sync changes you make in a fork with the original repository, you must configure a remote that points to the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jordonwu.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Jordon Wu's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Jordon Wu&#8217;s Blog</a></h1>
  
    <h2>A blog for recording something</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="jordonwu.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/10/sync-a-fork-of-a-repository-to-keep-it-up-to-date-with-the-upstream-repository/">Sync a Fork of a Repository to Keep It Up-to-date With the Upstream Repository</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-10T15:05:40+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>3:05 pm</span></time>
        
           | <a href="/blog/2015/06/10/sync-a-fork-of-a-repository-to-keep-it-up-to-date-with-the-upstream-repository/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/06/10/sync-a-fork-of-a-repository-to-keep-it-up-to-date-with-the-upstream-repository/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>1. Configuring a remote for a fork</h1>

<p>To sync changes you make in a fork with the original repository, you must configure a remote that points to the upstream repository in Git.</p>

<h2>1.1 Open Terminal (for Mac users) or the command prompt (for Windows and Linux users)</h2>

<h2>1.2 List the current configured remote repository for your fork</h2>

<pre><code>$ git remote -v
  origin  https://github.com/YOUR_USERNAME/YOUR_FORK.git (fetch)
  origin  https://github.com/YOUR_USERNAME/YOUR_FORK.git (push)
</code></pre>

<h2>1.3 Specify a new remote upstream repository that will be synced with the fork</h2>

<pre><code>$ git remote add upstream https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git
</code></pre>

<h2>1.4 Verify the new upstream repository you&rsquo;ve specified for your fork</h2>

<pre><code>$ git remote -v
  origin    https://github.com/YOUR_USERNAME/YOUR_FORK.git (fetch)
  origin    https://github.com/YOUR_USERNAME/YOUR_FORK.git (push)
  upstream  https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git (fetch)
  upstream  https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git (push)
</code></pre>

<h1>2. Syncing a fork</h1>

<p>Sync a fork of a repository to keep it up-to-date with the upstream repository</p>

<p>2.1 Change the current working directory to your local project</p>

<p>2.2 Fetch the branches and their respective commits from the upstream repository. Commits to master will be stored in a local branch, upstream/master.</p>

<pre><code>$ git fetch upstream
  remote: Counting objects: 75, done.
  remote: Compressing objects: 100% (53/53), done.
  remote: Total 62 (delta 27), reused 44 (delta 9)
  Unpacking objects: 100% (62/62), done.
  From https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY
   * [new branch]      master     -&gt; upstream/master
</code></pre>

<p>2.3 Check out your fork&rsquo;s local master branch</p>

<pre><code>$ git checkout master
  Switched to branch 'master'
</code></pre>

<p>2.4 Merge the changes from upstream/master into your local master branch. This brings your fork&rsquo;s master branch into sync with the upstream repository, without losing your local changes.</p>

<pre><code>$ git merge upstream/master
  Updating a422352..5fdff0f
  Fast-forward
  README                    |    9 -------
  README.md                 |    7 ++++++
  2 files changed, 7 insertions(+), 9 deletions(-)
  delete mode 100644 README
  create mode 100644 README.md
</code></pre>

<p>2.5 If your local branch didn&rsquo;t have any unique commits, Git will instead perform a &ldquo;fast-forward&rdquo;:</p>

<pre><code>$ git merge upstream/master
  Updating 34e91da..16c56ad
  Fast-forward
  README.md                 |    5 +++--
  1 file changed, 3 insertions(+), 2 deletions(-)
</code></pre>

<h1>3. Pushing to a remote</h1>

<pre><code>$ git push  &lt;REMOTENAME&gt; &lt;BRANCHNAME&gt;   
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/28/imx6-summary-upgrade-ltib-l3-dot-0-35-4-dot-1-0-to-l3-dot-0-101-4-dot-1-1/">Imx6 Summary Upgrade Ltib L3.0.35_4.1.0 to L3.0.101_4.1.1</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-28T10:50:25+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:50 am</span></time>
        
           | <a href="/blog/2015/05/28/imx6-summary-upgrade-ltib-l3-dot-0-35-4-dot-1-0-to-l3-dot-0-101-4-dot-1-1/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/05/28/imx6-summary-upgrade-ltib-l3-dot-0-35-4-dot-1-0-to-l3-dot-0-101-4-dot-1-1/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>1. Setup and build ltib using bsp L3.0.35_4.1.0_130816</h1>

<h1>2. Download L3.0.101_4.1.1 package</h1>

<pre><code>Version: 
    L3.0.101_4.1.1_141016_source.gz
    IMX_MMCODEC_3.0.101_4.1.1_Bundle.gz
</code></pre>

<h1>3. Upgrade to L3.0.101_4.1.1</h1>

<h2>3.1 Copy the following packages to host /opt/freescale/pkgs</h2>

<pre><code>firmware-imx-3.0.101-4.1.1.tar.gz
imx-vpu-lib-3.0.101-4.1.1.tar.gz
libfslcodec-3.0.11.tar.gz
libfslparser-3.0.11.tar.gz
libfslvpuwrap-1.0.46.tar.gz
gst-fsl-plugins-3.0.11.tar.gz
gst-fsl-plugins-3.0.11-configure.patch
glib2-2.12.1-atomic.patch
gpu-viv-bin-mx6q-3.0.101-4.1.1.tar.gz
gpu-viv-bin-mx6s-3.0.101-4.1.1.tar.gz
gpu-viv-wl-bin-mx6q-3.0.101-4.1.1.tar.gz
gpu-viv-wl-bin-mx6s-3.0.101-4.1.1.tar.gz
linux-3.0.101.tar.bz2 
linux-3.0.101-imx_4.1.1.bz2
u-boot-v2009.08-imx_3.0.101_4.1.1.tar.bz2
</code></pre>

<h2>3.2 Patch ltib_config_platform_imx.patch</h2>

<pre><code>$ cp ltib_config_platform_imx.patch Ltib_installed/config/platform/imx
$ cd Ltib_installed/config/platform/imx
$ patch -p1 –i ltib_config_platform_imx.patch
</code></pre>

<h2>3.3 Patch ltib_dist_lfs-5.1.patch</h2>

<pre><code>$ cp ltib_dist_lfs-5.1.patch Ltib_installed/dist
$ cd Ltib_installed/dist
$ patch -p1 –i ltib_dist_lfs-5.1.patch
</code></pre>

<h1>4. Config and build ltib</h1>

<pre><code>$ cd Ltib_installed/
$ ./ltib –config
$ ./ltib

$ ./ltib -m prep -p u-boot  # fetch u-boot sourc code
$ ./ltib -m prep -p kernel  # fetch kernel souce code
</code></pre>

<p>Done!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/26/imx6-summary-build-image-for-imx6-using-yocto/">Imx6 Summary Build Image for Imx6 Using Yocto</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-26T17:07:56+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>5:07 pm</span></time>
        
           | <a href="/blog/2015/05/26/imx6-summary-build-image-for-imx6-using-yocto/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/05/26/imx6-summary-build-image-for-imx6-using-yocto/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>1. Install repo</h1>

<pre><code>$ curl http://commondatastorage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo

or

$ install a local repo (repo-local)

$ export PATH=$PATH:/home/vmuser/bin

$ git config --global user.email "user name@email.com"

$ git config --global user.name "User Name" 
</code></pre>

<h1>2. Download freescale community bsp source code</h1>

<pre><code>$ mkdir fsl-community-bsp
$ cd fsl-community-bsp
$ repo init -u https://github.com/Freescale/fsl-community-bsp-platform -b fido
$ repo sync
</code></pre>

<h1>3. Change branch and sync</h1>

<pre><code>$ cd fsl-community-bsp
$ repo init -b master   //master or other branch
$ repo sync
</code></pre>

<h1>4. First build</h1>

<h2>4.1 Sync source code and setup environment</h2>

<pre><code>$ cd fsl-community-bsp
$ repo sync
$ source setup-environment build
$ ls
conf
</code></pre>

<h2>4.2 Choose your board</h2>

<pre><code>$ cd fsl-community-bsp

$ cd build

$ vim conf/local.conf #you can change MACHINE

MACHINE ??= 'imx6qsabresd'
DISTRO ?= 'poky'
PACKAGE_CLASSES ?= "package_rpm"
EXTRA_IMAGE_FEATURES = "debug-tweaks"
USER_CLASSES ?= "buildstats image-mklibs image-prelink"
PATCHRESOLVE = "noop"
BB_DISKMON_DIRS = "\
    STOPTASKS,${TMPDIR},1G,100K \
    STOPTASKS,${DL_DIR},1G,100K \
    STOPTASKS,${SSTATE_DIR},1G,100K \
    ABORT,${TMPDIR},100M,1K \
    ABORT,${DL_DIR},100M,1K \
    ABORT,${SSTATE_DIR},100M,1K"
CONF_VERSION = "1"

BB_NUMBER_THREADS = '1'
PARALLEL_MAKE = '-j 1'

DL_DIR ?= "${BSPDIR}/downloads/"
ACCEPT_FSL_EULA = "1"


//list all freescale boards conf
$ ls ../sources/meta-fsl-arm/conf/machine/*.conf -l
    -rw-rw-r-- 1 vmuser vmuser  539 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx23evk.conf
    -rw-rw-r-- 1 vmuser vmuser 2440 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx28evk.conf
    -rw-rw-r-- 1 vmuser vmuser  667 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx31pdk.conf
    -rw-rw-r-- 1 vmuser vmuser  603 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx35pdk.conf
    -rw-rw-r-- 1 vmuser vmuser  333 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx51evk.conf
    -rw-rw-r-- 1 vmuser vmuser  469 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx53ard.conf
    -rw-rw-r-- 1 vmuser vmuser  460 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx53qsb.conf
    -rw-rw-r-- 1 vmuser vmuser  638 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx6dlsabreauto.conf
    -rw-rw-r-- 1 vmuser vmuser  393 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx6dlsabresd.conf
    -rw-rw-r-- 1 vmuser vmuser  533 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx6qsabreauto.conf
    -rw-rw-r-- 1 vmuser vmuser  432 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx6qsabresd.conf
    -rw-rw-r-- 1 vmuser vmuser  432 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx6slevk.conf
    -rw-rw-r-- 1 vmuser vmuser  615 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx6solosabreauto.conf
    -rw-rw-r-- 1 vmuser vmuser  468 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/imx6solosabresd.conf
    -rw-rw-r-- 1 vmuser vmuser  542 Apr 16 23:58 ../sources/meta-fsl-arm/conf/machine/twr-vf65gs10.conf

//list all non-freescale boards conf
$ ls ../sources/meta-fsl-arm-extra/conf/machine/*.conf -l
    -rw-rw-r-- 1 vmuser vmuser  155 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/cfa10036.conf
    -rw-rw-r-- 1 vmuser vmuser  199 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/cfa10037.conf
    -rw-rw-r-- 1 vmuser vmuser  234 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/cfa10049.conf
    -rw-rw-r-- 1 vmuser vmuser  234 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/cfa10055.conf
    -rw-rw-r-- 1 vmuser vmuser  229 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/cfa10056.conf
    -rw-rw-r-- 1 vmuser vmuser  255 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/cfa10057.conf
    -rw-rw-r-- 1 vmuser vmuser  255 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/cfa10058.conf
    -rw-rw-r-- 1 vmuser vmuser  466 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/cgtqmx6.conf
    -rw-rw-r-- 1 vmuser vmuser  246 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/imx233-olinuxino-maxi.conf
    -rw-rw-r-- 1 vmuser vmuser  190 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/imx233-olinuxino-micro.conf
    -rw-rw-r-- 1 vmuser vmuser  188 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/imx233-olinuxino-mini.conf
    -rw-rw-r-- 1 vmuser vmuser  508 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/imx6qsabrelite.conf
    -rw-rw-r-- 1 vmuser vmuser  726 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/m28evk.conf
    -rw-rw-r-- 1 vmuser vmuser  767 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/m53evk.conf
    -rw-rw-r-- 1 vmuser vmuser 1641 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/nitrogen6x.conf
    -rw-rw-r-- 1 vmuser vmuser  786 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/nitrogen6x-lite.conf
    -rw-rw-r-- 1 vmuser vmuser  538 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/wandboard-dual.conf
    -rw-rw-r-- 1 vmuser vmuser  529 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/wandboard-quad.conf
    -rw-rw-r-- 1 vmuser vmuser  465 Apr 16 23:58 ../sources/meta-fsl-arm-extra/conf/machine/wandboard-solo.conf

//list available images
$ find ../sources -name *image*
    ../sources/meta-fsl-arm/scripts/lib/image
    ../sources/meta-fsl-arm/classes/mfgtool-initramfs-image.bbclass
    ../sources/meta-fsl-arm/classes/image_types_fsl.bbclass
    ../sources/meta-fsl-arm/recipes-fsl/images
    ../sources/meta-fsl-arm/recipes-fsl/images/fsl-image-mfgtool-initramfs.bb
    ../sources/poky/scripts/lib/image
    ../sources/poky/scripts/lib/image/canned-wks/sdimage-bootpart.wks
    ../sources/poky/scripts/lib/wic/plugins/imager
    ../sources/poky/scripts/lib/wic/plugins/source/fsimage.py
    ../sources/poky/scripts/lib/wic/imager
    ../sources/poky/scripts/lib/wic/imager/baseimager.py
    ../sources/poky/scripts/test-remote-image
    ../sources/poky/scripts/contrib/ddimage
    ../sources/poky/scripts/runqemu-addptable2image
    ../sources/poky/documentation/ref-manual/ref-images.xml
    ../sources/poky/documentation/ref-manual/figures/image-generation.png
    ../sources/poky/documentation/ref-manual/figures/images.png
    ../sources/poky/documentation/mega-manual/figures/image-generation.png
    ../sources/poky/documentation/mega-manual/figures/images.png
    ../sources/poky/documentation/mega-manual/figures/using-a-pre-built-image.png
    ../sources/poky/documentation/mega-manual/figures/building-an-image.png
    ../sources/poky/documentation/yocto-project-qs/figures/using-a-pre-built-image.png
    ../sources/poky/documentation/yocto-project-qs/figures/building-an-image.png
    ../sources/poky/bitbake/bin/image-writer
    ../sources/poky/bitbake/lib/toaster/orm/migrations/0005_auto__add_target_image_file__add_target_file__add_field_variablehistor.py
    ../sources/poky/bitbake/lib/toaster/orm/migrations/0006_auto__add_field_target_image_size__add_field_target_license_manifest_p.py
    ../sources/poky/bitbake/lib/toaster/toastergui/static/css/images
    ../sources/poky/bitbake/lib/bb/ui/icons/images
    ../sources/poky/bitbake/lib/bb/ui/icons/images/images_hover.png
    ../sources/poky/bitbake/lib/bb/ui/icons/images/images_display.png
    ../sources/poky/bitbake/lib/bb/ui/crumbs/imagedetailspage.py
    ../sources/poky/bitbake/lib/bb/ui/crumbs/imageconfigurationpage.py
    ../sources/poky/bitbake/lib/bb/ui/crumbs/hig/saveimagedialog.py
    ../sources/poky/bitbake/lib/bb/ui/crumbs/hig/retrieveimagedialog.py
    ../sources/poky/bitbake/lib/bb/ui/crumbs/hig/imageselectiondialog.py
    ../sources/poky/bitbake/lib/bb/ui/crumbs/hig/deployimagedialog.py
    ../sources/poky/meta-selftest/recipes-test/images
    ../sources/poky/meta-selftest/recipes-test/images/oe-selftest-image.bb
    ../sources/poky/meta/recipes-extended/images
    ../sources/poky/meta/recipes-extended/images/core-image-lsb-sdk.bb
    ../sources/poky/meta/recipes-extended/images/core-image-full-cmdline.bb
    ../sources/poky/meta/recipes-extended/images/core-image-kernel-dev.bb
    ../sources/poky/meta/recipes-extended/images/core-image-lsb.bb
    ../sources/poky/meta/recipes-extended/images/core-image-testmaster.bb
    ../sources/poky/meta/recipes-extended/images/core-image-lsb-dev.bb
    ../sources/poky/meta/recipes-extended/images/core-image-testmaster-initramfs.bb
    ../sources/poky/meta/recipes-multimedia/gstreamer/gst-ffmpeg-0.10.13/0001-avcodec-msrle-use-av_image_get_linesize-to-calculate.patch
    ../sources/poky/meta/recipes-qt/images
    ../sources/poky/meta/recipes-qt/images/qt4e-demo-image.bb
    ../sources/poky/meta/recipes-qt/qt4/qt4-4.8.6/0028-Don-t-crash-on-broken-GIF-images.patch
    ../sources/poky/meta/recipes-graphics/xorg-lib/xcb-util-image_0.4.0.bb
    ../sources/poky/meta/recipes-graphics/images
    ../sources/poky/meta/recipes-graphics/images/core-image-x11.bb
    ../sources/poky/meta/recipes-graphics/images/core-image-directfb.bb
    ../sources/poky/meta/recipes-graphics/images/core-image-weston.bb
    ../sources/poky/meta/recipes-graphics/images/core-image-clutter.bb
    ../sources/poky/meta/recipes-devtools/mkelfimage
    ../sources/poky/meta/recipes-devtools/mkelfimage/mkelfimage
    ../sources/poky/meta/recipes-devtools/mkelfimage/mkelfimage_git.bb
    ../sources/poky/meta/recipes-core/images
    ../sources/poky/meta/recipes-core/images/core-image-minimal.bb
    ../sources/poky/meta/recipes-core/images/core-image-base.bb
    ../sources/poky/meta/recipes-core/images/build-appliance-image_12.0.1.bb
    ../sources/poky/meta/recipes-core/images/build-appliance-image
    ../sources/poky/meta/recipes-core/images/core-image-minimal-mtdutils.bb
    ../sources/poky/meta/recipes-core/images/core-image-minimal-dev.bb
    ../sources/poky/meta/recipes-core/images/core-image-minimal-initramfs.bb
    ../sources/poky/meta/classes/image-buildinfo.bbclass
    ../sources/poky/meta/classes/testimage-auto.bbclass
    ../sources/poky/meta/classes/testimage.bbclass
    ../sources/poky/meta/classes/image_types_uboot.bbclass
    ../sources/poky/meta/classes/image-vmdk.bbclass
    ../sources/poky/meta/classes/core-image.bbclass
    ../sources/poky/meta/classes/image.bbclass
    ../sources/poky/meta/classes/image_types.bbclass
    ../sources/poky/meta/classes/image-prelink.bbclass
    ../sources/poky/meta/classes/image-swab.bbclass
    ../sources/poky/meta/classes/image-live.bbclass
    ../sources/poky/meta/classes/image-mklibs.bbclass
    ../sources/poky/meta/lib/oe/image.py
    ../sources/poky/meta/lib/oeqa/controllers/masterimage.py
    ../sources/poky/meta/recipes-bsp/u-boot/u-boot-mkimage_2015.01.bb
    ../sources/poky/meta/recipes-rt/images
    ../sources/poky/meta/recipes-rt/images/core-image-rt.bb
    ../sources/poky/meta/recipes-rt/images/core-image-rt-sdk.bb
    ../sources/poky/meta/recipes-connectivity/connman/connman-gnome/images
    ../sources/poky/meta/recipes-sato/images
    ../sources/poky/meta/recipes-sato/images/core-image-sato.bb
    ../sources/poky/meta/recipes-sato/images/core-image-sato-dev.bb
    ../sources/poky/meta/recipes-sato/images/core-image-sato-sdk.bb
    ../sources/poky/meta-skeleton/recipes-multilib/images
    ../sources/poky/meta-skeleton/recipes-multilib/images/core-image-multilib-example.bb
    ../sources/meta-openembedded/meta-oe/recipes-multimedia/libsdl-image
    ../sources/meta-openembedded/meta-oe/recipes-multimedia/libsdl-image/libsdl-image
    ../sources/meta-openembedded/meta-oe/recipes-multimedia/libsdl-image/libsdl-image_1.2.12.bb
    ../sources/meta-openembedded/meta-oe/recipes-graphics/lxdm/lxdm/0001-lxdm.conf.in-blacklist-root-for-release-images.patch
    ../sources/meta-openembedded/meta-oe/recipes-graphics/nonworking/slim/slim/0002-Fix-image-handling-integer-overflows.patch
    ../sources/meta-openembedded/meta-oe/recipes-support/imagemagick
    ../sources/meta-openembedded/meta-oe/recipes-support/imagemagick/imagemagick_6.8.9.bb
    ../sources/meta-openembedded/meta-initramfs/recipes-bsp/images
    ../sources/meta-openembedded/meta-initramfs/recipes-bsp/images/initramfs-kexecboot-klibc-image.bb
    ../sources/meta-openembedded/meta-initramfs/recipes-bsp/images/initramfs-debug-image.bb
    ../sources/meta-openembedded/meta-initramfs/recipes-bsp/images/initramfs-kexecboot-image.bb
    ../sources/Documentation/release-notes/source/images.inc
    ../sources/Documentation/user-guide/source/images.rst
    ../sources/Documentation/user-guide/source/image-list.inc
    ../sources/meta-fsl-demos/recipes-qt/images
    ../sources/meta-fsl-demos/recipes-qt/images/qt-in-use-image.bb
    ../sources/meta-fsl-demos/recipes-qt/images/qte-in-use-image.bb
    ../sources/meta-fsl-demos/recipes-fsl/images
    ../sources/meta-fsl-demos/recipes-fsl/images/fsl-image-machine-test.bb
    ../sources/meta-fsl-demos/recipes-fsl/images/fsl-image-multimedia-full.bb
    ../sources/meta-fsl-demos/recipes-fsl/images/fsl-image-multimedia.bb
</code></pre>

<h2>4.3 Start to build</h2>

<pre><code>//list core-image-base all task 
$ bitbake -c listtasks core-image-base

// download all source only 
$ bitbake -c fetchall core-image-base

//build
$ bitbake core-image-base
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/26/imx6-summary-linux-host-environment-setup/">Imx6 Summary Linux Host Environment Setup</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-26T08:52:12+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>8:52 am</span></time>
        
           | <a href="/blog/2015/05/26/imx6-summary-linux-host-environment-setup/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/05/26/imx6-summary-linux-host-environment-setup/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>1.  Install Host OS</h1>

<h2>1.1 Install VMware</h2>

<pre><code>Version: VMware10.03
</code></pre>

<h2>1.2 Install ubuntu server on VMware</h2>

<pre><code>Version: ubuntu-14.04.2-server-amd64
</code></pre>

<h2>1.3 Update Sources</h2>

<pre><code>$sudo apt-get update
</code></pre>

<h1>2.  Install Host OS Service</h1>

<h2>2.1 Install ssh service</h2>

<pre><code>$ sudo apt-get install openssh-client openssh-server
</code></pre>

<h2>2.2 Install samba service</h2>

<pre><code>$ sudo apt-get install samba

$ sudo vim /etc/samba/smb.conf and add below section to the file end

[home]
comment = samba share path /home
browseable = yes
writeable = yes
path = /home
valid users = smb

$ sudo useradd smb          //add user smb

$ sudo smbpasswd -a smb     //set password for smb user

$ /etc/init.d/smbd restart  //restart smbd service
</code></pre>

<h1>3.  Install Host OS build essential</h1>

<pre><code>$ sudo apt-get install gawk wget git-core diffstat unzip texinfo gcc-multilib \
    build-essential chrpath socat libsdl1.2-dev xterm curl tcl rpm bison m4 \
    zlib1g zlib1g-dev libncurses5-dev liblzo2-dev uuid-dev lzop texi2html texinfo \
    texlive gettext libgtk2.0-dev rpm bison m4 libfreetype6-dev libdbus-glib-1-dev \
    liborbit2-dev intltool ccache libtool uuid-dev liblzo2-dev tcl dpkg asciidoc \
    texlive-latex-base dblatex xutils-dev texlive texinfo lib32z1 lib32ncurses5 \
    lib32bz2-1.0 libc6-dev-i386 u-boot-tools scrollkeeper dos2unix
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/26/adding-an-existing-project-to-github/">Adding an Existing Project to Github</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-26T08:12:55+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>8:12 am</span></time>
        
           | <a href="/blog/2015/05/26/adding-an-existing-project-to-github/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/05/26/adding-an-existing-project-to-github/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ref: <a href="https://help.github.com/articles/pushing-to-a-remote/">https://help.github.com/articles/pushing-to-a-remote/</a></p>

<h1>1. Create a new repository on Github</h1>

<pre><code>Example repo: https://github.com/github-username/test-repo.git

#To avoid errors, do not initialize the new repository with README, license, or gitignore files. You can add these files after your project has been pushed to GitHub
</code></pre>

<h1>2. Create a local repository on local machine</h1>

<pre><code>$ mkdir test-repo
$ cd test-repo
$ git init
$ git config --global user.name "Your Name"         # remove --global for current git reop only
$ git config --global user.email you@example.com    # remove --global for current git reop only
$ git config --list                                 # list config
$ touch test.txt
$ git add .
$ git commit -m "First commit"
</code></pre>

<h1>3. Adding a remote repository url to local repository</h1>

<pre><code>$ git remote -v

$ git remote add origin https://github.com/github-username/test-repo.git
or
$ git remote set-url origin https://github.com/github-username/test-repo.git    # for windows git command

$ git remote -v
    origin  https://github.com/github-username/test-repo.git (fetch)
    origin  https://github.com/github-username/test-repo.git (push)
</code></pre>

<h1>4. Push the changes in your local repository to Github</h1>

<pre><code>$ git push origin master
</code></pre>

<h1>5. Renaming branches (remote)</h1>

<p>To rename a branch, you&rsquo;d use the same git push command, but you would add one more argument: the name of the new branch. For example:</p>

<pre><code>git push  &lt;REMOTENAME&gt; &lt;LOCALBRANCHNAME&gt;:&lt;REMOTEBRANCHNAME&gt;
</code></pre>

<p>This pushes the LOCALBRANCHNAME to your REMOTENAME, but it is renamed to REMOTEBRANCHNAME.</p>

<h1>6. Pushing tags</h1>

<p>By default, and without additional parameters, git push sends all matching branches that have the same names as remote branches.</p>

<p>To push a single tag, you can issue the same command as pushing a branch:</p>

<pre><code>git push  &lt;REMOTENAME&gt; &lt;TAGNAME&gt;
</code></pre>

<p>To push all your tags, you can type the command:</p>

<pre><code>git push  &lt;REMOTENAME&gt; --tags
</code></pre>

<h1>7. Deleting a remote branch or tag</h1>

<p>The syntax to delete a branch is a bit arcane at first glance:</p>

<pre><code>git push  &lt;REMOTENAME&gt; :&lt;BRANCHNAME&gt; 
</code></pre>

<p>Note that there is a space before the colon. The command resembles the same steps you&rsquo;d take to rename a branch. However, here, you&rsquo;re telling Git to push nothing into BRANCHNAME on REMOTENAME. Because of this, git push deletes the branch on the remote repository.</p>

<h2>7.1 Deleting your master branch</h2>

<p>You’ve forked some project on github.</p>

<p>You clone your fork.</p>

<p>Now you’ve got a master branch. It’s the master branch of your fork.</p>

<p>It can be tempting to do work in the master branch and ask for a pull request.</p>

<p>That is best avoided because:</p>

<p>It’s natural to carry on working in your master and that will pollute your pull request with other commits
master is not a descriptive name for a set of changes. It’s easier for the person reviewing your code to have something like fix-for-issue-12.
You may well also have a tracking branch pointing to the main upstream repo. You might call that something like upstream-master. It’s easy to lose concentration and forget you are on upstream-master instead of your master, and nasty errors can result.
To avoid this, I delete the master branch from my forked copy. However, to make that work, you have to tell github not to monitor your master branch.</p>

<h2>7.2 How to delete master</h2>

<p>First you delete master in your local clone. To do this we first make a new branch called placeholder or similar, and delete master from there:</p>

<pre><code>git branch placeholder
git checkout placeholder
git branch -D master
</code></pre>

<p>All good so far. We next want to delete the branch on github. However, if we do this the naive way:</p>

<pre><code>git push origin :master
</code></pre>

<p>we just get an error like this:</p>

<pre><code>remote: error: refusing to delete the current branch: refs/heads/master
To git@github.com:matthew-brett/datarray.git
! [remote rejected] master (deletion of the current branch prohibited)
error: failed to push some refs to 'git@github.com:matthew-brett/datarray.git'
</code></pre>

<p>That is because github is looking at the master branch to provide the web content when you browse that repository. So we first have to make github look at our placeholder branch instead, then delete master.</p>

<p>First push up the placeholder branch:</p>

<pre><code>git checkout placeholder # if not on placeholder already
git push origin placeholder
</code></pre>

<p>Then set placeholder to be the github default branch. Go to the main github page for your forked repository, and click on the “Admin” button.</p>

<p>There’s a “Default branch” dropdown list near the top of the screen. From there, select placeholder. On the interface I’m looking at, a green tick appears above the dropdown list. Now you can do (from the command line):</p>

<pre><code>git push origin :master
</code></pre>

<p>and - no master branch&hellip;</p>

<h1>8. Remotes and forks</h1>

<p>You might already know that you can &ldquo;fork&rdquo; repositories on GitHub.</p>

<p>When you clone a repository you own, you provide it with a remote URL that tells Git where to fetch and push updates. If you want to collaborate with the original repository, you&rsquo;d add a new remote URL, typically called upstream, to your local Git clone:</p>

<pre><code>git remote set-url upstream  &lt;THEIR_REMOTE_URL&gt;
</code></pre>

<p>Now, you can fetch updates and branches from their fork:</p>

<pre><code>git fetch upstream branch
# Grab the upstream remote's branches
# remote: Counting objects: 75, done.
# remote: Compressing objects: 100% (53/53), done.
# remote: Total 62 (delta 27), reused 44 (delta 9)
# Unpacking objects: 100% (62/62), done.
# From https://github.com/octocat/repo
#  * [new branch]      master     -&gt; upstream/master
</code></pre>

<p>When you&rsquo;re done making local changes, you can push your local branch to GitHub and initiate a pull request.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/15/build-qt5-dot-5-0-for-imx6/">Build Qt5.5.0 for Imx6</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-15T16:18:48+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>4:18 pm</span></time>
        
           | <a href="/blog/2015/05/15/build-qt5-dot-5-0-for-imx6/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/05/15/build-qt5-dot-5-0-for-imx6/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/14/mfgtool-emmc-mksdcard-dot-sh/">MFGTool Emmc mksdcard.sh</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-14T19:07:18+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>7:07 pm</span></time>
        
           | <a href="/blog/2015/05/14/mfgtool-emmc-mksdcard-dot-sh/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/05/14/mfgtool-emmc-mksdcard-dot-sh/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>MFGTool Emmc mksdcard.sh comment</h1>

<h2>1.烧写脚本：</h2>

<pre><code>&lt;CMD state="Updater" type="push" body="send" file="mksdcard.sh.tar"&gt;Sending partition shell&lt;/CMD&gt; 

&lt;CMD state="Updater" type="push" body="$ tar xf $FILE "&gt; Partitioning...&lt;/CMD&gt;

&lt;CMD state="Updater" type="push" body="$ sh mksdcard.sh /dev/mmcblk0"&gt; Partitioning...&lt;/CMD&gt; 
</code></pre>

<h2>2 其中 ：$ sh mksdcard.sh /dev/mmcblk0</h2>

<pre><code>mksdcard.sh文件内容为：

#######################################################################
#!/bin/sh

# partition size in MB
BOOT_ROM_SIZE=10
BOOT_SYSTEM_SIZE=100


# call sfdisk to create partition table
# destroy the partition table
node=$1
dd if=/dev/zero of=${node} bs=1024 count=1

sfdisk --force -uM ${node} &lt;&lt; EOF
${BOOT_ROM_SIZE},${BOOT_SYSTEM_SIZE},83
,,83
EOF
######################################################################

#!/bin/sh
#partition size in MB

BOOT_ROM_SIZE=10                            #这里定义的是启动ROM 10MB
ROOT_SYSTEM_SIZE=1024                       #这里定义的是系统大小 1024mb

#call sfdisk to create partition table
#destroy the partition table

node=$1                                     #$1为命令行第一个传递的参数 在此为 /dev/mmcblk0
dd if=/dev/zero of=${node} bs=1024 count=1  #将前导一个1024字节(1KB)大小的分区零0

sfdisk--force -uM ${node} &lt;&lt; EOF            #SmartFdisk –uM表示以MB为单位生成报告  即： sfdisk --force -um  /dev/mmcblk0 &lt;&lt;EOF
${BOOT_ROM_SIZE},${ROOT_SYSTEM_SIZE},0c 
,,83
EOF

#(,,83) 将其他所有空间再分成一个区,，此处应该就是mmcblk0p2 其中 83是Linux分区标识 Uboot和kernel是直接使用dd写入mmcblk0中的，而分区则是使用sfdisk进行的，空出了uboot和kernel的位置，从起始地址10MB开始的
</code></pre>

<h2>3. linux  sfdisk命令说明</h2>

<pre><code>sfdisk reads lines of the form

         &lt;start&gt; &lt;size&gt; &lt;id&gt;&lt; bootable&gt; &lt;c,h,s&gt; &lt;c,h,s&gt;

  where each line fills one partition descriptor.
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/14/using-ltibs-u-boot-kernel-and-rootfs-to-boot-board-step-by-step/">Using Ltib&#8217;s U-boot Kernel and Rootfs to Boot Board Step by Step</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-14T14:47:48+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>2:47 pm</span></time>
        
           | <a href="/blog/2015/05/14/using-ltibs-u-boot-kernel-and-rootfs-to-boot-board-step-by-step/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/05/14/using-ltibs-u-boot-kernel-and-rootfs-to-boot-board-step-by-step/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>1. Config and build ltib for sabre sdb imx6q</h1>

<h1>2. Get source code</h1>

<pre><code>$ cd path/ltib

$ ./ltib -m prep -p u-boot

$ cd path/ltib

$ ./ltib -m prep -p kernel
</code></pre>

<h1>3. Modify and build u-boot</h1>

<pre><code>$ cd path/ltib/rpm/BUILD/u-boot-2009.08

$ modify inlcude/configs/mx6q_sabresd.h as below

////////////////////////////////////////////////////////////////////

#if 0   //boot from nfs
#define CONFIG_EXTRA_ENV_SETTINGS                   \
        "netdev=eth0\0"                     \
        "ethprime=FEC0\0"                   \
        "uboot=u-boot.bin\0"            \
        "kernel=uImage\0"               \
        "nfsroot=/opt/eldk/arm\0"               \
        "bootargs_base=setenv bootargs console=ttymxc0,115200\0"\
        "bootargs_nfs=setenv bootargs ${bootargs} root=/dev/nfs "\
            "ip=dhcp nfsroot=${serverip}:${nfsroot},v3,tcp\0"\
        "bootcmd_net=run bootargs_base bootargs_nfs; "      \
            "tftpboot ${loadaddr} ${kernel}; bootm\0"   \
        "bootargs_mmc=setenv bootargs ${bootargs} ip=dhcp "     \
            "root=/dev/mmcblk0p1 rootwait\0"                \
        "bootcmd_mmc=run bootargs_base bootargs_mmc; "   \
        "mmc dev 3; "   \
        "mmc read ${loadaddr} 0x800 0x2000; bootm\0"    \
        "bootcmd=run bootcmd_net\0"
#endif

#if 1   //boot from mmc and display on lvds1 to LDB-CLAA(1280x420)
#define CONFIG_EXTRA_ENV_SETTINGS                   \
        "netdev=eth0\0"                     \
        "ethprime=FEC0\0"                   \
        "uboot=u-boot.bin\0"                    \
        "kernel=uImage\0"                   \
        "nfsroot=/opt/eldk/arm\0"               \
        "bootargs_base=setenv bootargs console=ttymxc0,115200 \0"\
        "bootargs_nfs=setenv bootargs ${bootargs} root=/dev/nfs "\
            "ip=dhcp nfsroot=${serverip}:${nfsroot},v3,tcp\0"\
        "bootcmd_net=run bootargs_base bootargs_nfs; "      \
            "tftpboot ${loadaddr} ${kernel}; bootm\0"   \
        "bootargs_mmc=setenv bootargs ${bootargs} "     \
            "root=/dev/mmcblk0p1 rootfstype=ext4 rootwait rw lpj=7905280 printk.time=1 verify=no" \
            " ldb=sin1 video=mxcfb0:dev=ldb,LDB-CLAA,if=RGB666,bpp=32 video=mxcfb1:off consoleblank=0 \0"\
        "bootcmd_mmc=run bootargs_base bootargs_mmc; "  \
        "mmc dev 3; "                   \
        "mmc read ${loadaddr} 0x800 0x2000; bootm\0"    \
        "bootcmd=run bootcmd_mmc\0"
#endif

#if 0   //boot from mmc and display on twice lvds to LDB-1080P60(1920x720)
#define CONFIG_EXTRA_ENV_SETTINGS                   \
        "netdev=eth0\0"                     \
        "ethprime=FEC0\0"                   \
        "uboot=u-boot.bin\0"            \
        "kernel=uImage\0"               \
        "nfsroot=/opt/eldk/arm\0"               \
        "bootargs_base=setenv bootargs console=ttymxc0,115200 \0"\
        "bootargs_nfs=setenv bootargs ${bootargs} root=/dev/nfs "\
            "ip=dhcp nfsroot=${serverip}:${nfsroot},v3,tcp\0"\
        "bootcmd_net=run bootargs_base bootargs_nfs; "      \
            "tftpboot ${loadaddr} ${kernel}; bootm\0"   \
        "bootargs_mmc=setenv bootargs ${bootargs} "     \
            "root=/dev/mmcblk0p1 rootfstype=ext4 rootwait rw lpj=7905280 printk.time=1 verify=no" \
            " ldb=spl0 video=mxcfb0:dev=ldb,LDB-1080P60,if=RGB24,bpp=32 video=mxcfb1:off consoleblank=0 \0"                \
        "bootcmd_mmc=run bootargs_base bootargs_mmc; "   \
        "mmc dev 3; "   \
        "mmc read ${loadaddr} 0x800 0x2000; bootm\0"    \
        "bootcmd=run bootcmd_mmc\0"
#endif

#if 0 //ltib default nfs boot
#define CONFIG_EXTRA_ENV_SETTINGS \
        "netdev=eth0\0" \
        "ethprime=FEC0\0" \
        "uboot=u-boot.bin\0" \
        "kernel=uImage\0" \
        "nfsroot=/opt/eldk/arm\0" \
        "bootargs_base=setenv bootargs console=ttymxc0,115200\0" \
        "bootargs_nfs=setenv bootargs ${bootargs} root=/dev/nfs " \
            "ip=dhcp nfsroot=${serverip}:${nfsroot},v3,tcp\0" \
        "bootcmd_net=run bootargs_base bootargs_nfs; " \
            "tftpboot ${loadaddr} ${kernel}; bootm\0" \
        "bootargs_mmc=setenv bootargs ${bootargs} ip=dhcp " \
            "root=/dev/mmcblk0p1 rootwait\0" \
        "bootcmd_mmc=run bootargs_base bootargs_mmc; " \
        "mmc dev 3; " \
        "mmc read ${loadaddr} 0x800 0x2000; bootm\0"    \
        "bootcmd=run bootcmd_net\0"                             \

#else // for mmc boot

#define CONFIG_EXTRA_ENV_SETTINGS \
    "netdev=eth0\0" \
    "ethprime=FEC0\0" \
    "uboot=u-boot.bin\0" \
    "kernel=uImage\0" \
    "nfsroot=/opt/eldk/arm\0" \
    "bootargs_base=setenv bootargs console=ttymxc0,115200 \0" \
    "bootargs_nfs=setenv bootargs ${bootargs} root=/dev/nfs " \
        "ip=dhcp nfsroot=${serverip}:${nfsroot},v3,tcp\0" \
    "bootcmd_net=run bootargs_base bootargs_nfs; " \
        "tftpboot ${loadaddr} ${kernel}; bootm\0" \
    "bootargs_mmc=setenv bootargs ${bootargs} " \
        "root=/dev/mmcblk0p1 rootfstype=ext4 rootwait rw lpj=7905280 printk.time=1 verify=no" \
        " ldb=spl0 video=mxcfb0:dev=ldb,LDB-1080P60,if=RGB24,bpp=32 video=mxcfb1:off consoleblank=0 \0" \
    "bootcmd_mmc=run bootargs_base bootargs_mmc; " \
    "mmc dev 3; " \
    "mmc read ${loadaddr} 0x800 0x2000; bootm\0" \
    "bootcmd=run bootcmd_mmc\0" \

#endif

/////////////////////////////////////////////////////////////////////////

$ export ARCH=arm
$ export CROSS_COMPILE=/opt/gcc-linaro-arm-linux-gnueabi-2012.04-20120426_linux/bin/arm-linux-gnueabi-

$ make mx6q_sabresd_config

$ make

////////////////////////////Note/////////////////////////////////

uboot mmc read/write命令用法

mmc read用来读取mmc内容到内存，

mmc write用来写入内存内容到mmc中

具体用法,

mmc read &lt;device num&gt; addr blk# cnt [partition]

mmc write &lt;device num&gt; addr blk# cnt [partition]

mmc list

device num是mmc的设备号，可以通过mmc list查询

addr是内存地址

blk# 是mmc内的块号

cnt 块数目 ( 块大小为512Byte )

使用范例：

mmc write 2 0x90000000 0x600 0x10

把内存0x90000000开始，长度为16x512大小的数据，写入到第2个mmc设备块偏移位置为0x600处

mmc read 2 0x90000000 0x600 0x10

把第二个mmc设备块偏移为0x600处开始，长度为16x512大小的数据，读出到内存0x90000000处
///////////////////////////////////////////////
</code></pre>

<h1>4. Modify and build kernel</h1>

<pre><code>$ cd path/ltib/rpm/BUILD/linux-3.0.35

$ export ARCH=arm

$ export CROSS_COMPILE=/opt/gcc-linaro-arm-linux-gnueabi-2012.04-20120426_linux/bin/arm-linux-gnueabi-

$ make imx6_defconfig

$ make uImage
</code></pre>

<h1>5. Reduce rootfs</h1>

<pre><code>$ cd path/ltib/rootfs

$ add post_build.sh
##########################################
#!/bin/sh
cd dev
sudo mknod null c 1 3
sudo chmod 666 null

sudo mknod console c 5 1
sudo chmod 777 console

for i in 0 1 2 3 4 5 6 7 8 9 10 11 12; do sudo mknod fb$i c 29 $i; done

sudo mknod mxc_ipu c 253 0
sudo mknod mxc_vpu c 252 0
sudo mknod ttymxc0 c 207 16
sudo mknod video0 c 81 0
sudo mknod galcore c 199 0

cd ..
sudo rm -rf unit_tests
sudo rm -rf boot
sudo rm -rf opt/fsl_samples
sudo rm -rf opt/viv_samples
sudo rm -rf share

sudo rm -rf usr/include
sudo rm -rf usr/info
sudo rm -rf usr/man
sudo rm -rf usr/src
sudo rm -rf usr/share

sudo rm -rf var/spool
sudo rm -rf var/ftp
sudo rm -rf var/log
sudo rm -rf var/run
sudo rm -rf var/mail
sudo rm -rf var/lock
sudo rm -rf var/lib
sudo rm -rf var/www
###############################################

$ ./post_build.sh

$ sudo tar -cjvf ../rootfs.tar.bz2 ./*
</code></pre>

<h1>6. Flash u-boot.bin, uImage and rootfs.tar.bz2 to board mmc</h1>

<h1>7. Reset board. Done!</h1>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/11/build-ltib-for-sabre-sdb-on-ubuntu14-dot-04/">Build Ltib for Sabre Sdb on ubuntu14.04</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-11T14:48:34+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>2:48 pm</span></time>
        
           | <a href="/blog/2015/05/11/build-ltib-for-sabre-sdb-on-ubuntu14-dot-04/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/05/11/build-ltib-for-sabre-sdb-on-ubuntu14-dot-04/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>1. Package</h1>

<pre><code>1) L3.0.35_4.1.0_130816_source.gz
2) 0001_make_L3.0.35_4.1.0_compile_on_Ubuntu_14.04_64bit_OS.patch.zip
</code></pre>

<h1>2. Add user super privilege to visudo</h1>

<pre><code>$sudo /usr/sbin/visudo

#add below line for vmuser account super privilege
vmuser ALL = NOPASSWD: /usr/bin/rpm, /opt/freescale/ltib/usr/bin/rpm
</code></pre>

<h1>3. Install LTIB and Apply Patch</h1>

<pre><code>$ cd ~
$ tar zxvf L3.0.35_4.1.0_130816_source.tar.gz
$ ./L3.0.35_4.1.0_130816_source/install     #suggest install ltib to none root user directory

$ cd /home/vmuser/ltib_src/ltib
$ wget https://community.freescale.com/servlet/JiveServlet/download/100725-3-274381/0001_make_L3.0.35_4.1.0_compile_on_Ubuntu_14.04_64bit_OS.patch.zip
$ unzip 0001_make_L3.0.35_4.1.0_compile_on_Ubuntu_14.04_64bit_OS.patch.zip
$ git apply 0001_make_L3.0.35_4.1.0_compile_on_Ubuntu_14.04_64bit_OS.patch
</code></pre>

<h1>4. Configure and build LTIB for imx6q-sdb</h1>

<pre><code>$ cd /home/vmuser/ltib_src/ltib

$ ./ltib -m config

Platform choice (Freescale iMX reference boards)  ---&gt;


Choose the platform type
Selection (imx6q)  ---&gt;


Choose the packages profile
Selection (use packages in preconfig (Min profile))  ---&gt;


(imx6q) Platform
--- LTIB settings
     System features  ---&gt;
--- Choose the target C library type
    Target C library type (glibc)  ---&gt;
    C library package (from toolchain only)  ---&gt;
    Toolchain component options  ---&gt;
--- Toolchain selection.
    Toolchain (ARM, gcc-4.6.2, multilib, neon optimized, gnueabi/eglibc2.13)  ---&gt;
(-O2 -march=armv7-a -mfpu=vfpv3 -mfloat-abi=softfp) Enter any CFLAGS for gcc/g++ (NEW)
--- Choose your bootloader for U-Boot
    bootloader (u-boot)  ---&gt;
    u-boot version (u-boot v2009.08)  ---&gt;
--- Choose your board for u-boot
    board (mx6q_sabresd)  ---&gt;
--- Choose your Kernel
    kernel (Linux 3.0.35-imx)  ---&gt;
[ ] Always rebuild the kernel
[ ] Produce cscope index
--- Include kernel headers
[*] Configure the kernel

...

--- Package selection 
    Package list  ---&gt;
--- Target System Configuration
    Options  ---&gt;
--- Target Image Generation
    Options  ---&gt;
---
Load an Alternate Configuration File
Save Configuration to an Alternate File


--- Platform specific package selection

[*] gpu-viv-bin-mx6q

[*] dbus

[*] expat

[*] libjpeg

[*] libpng


$ ./ltib

$ config kernel 

Device Driver ---&gt;
MXC support drivers ---&gt;
        MXC Vivante GPU Support ---&gt;
    &lt;*&gt; MXC vivante GPU support
</code></pre>

<h1>5. Create device node</h1>

<h2>5.1 Create device node manual</h2>

<pre><code>$ cd /home/vmuser/ltib_src/ltib
$ cd rootfs/dev
$ sudo mknod null c 1 3
$ sudo chmod 666 null

$ sudo mknod console c 5 1
$ sudo chmod 777 console

$ for i in 0 1 2 3 4 5 6 7 8 9 10 11 12; do sudo mknod fb$i c 29 $i; done
$ sudo mknod mxc_ipu c 253 0
$ sudo mknod mxc_vpu c 252 0
$ sudo mknod ttymxc0 c 207 16
$ sudo mknod video0  c 81  5
$ sudo mknod video1  c 81  6
$ sudo mknod video16 c 81  0
$ sudo mknod video17 c 81  1
$ sudo mknod galcore c 199 0
</code></pre>

<h2>5.2 Create device node via device_table.txt</h2>

<pre><code>$ edit ltib/bin/device_table.txt to add your device node as below

......
# Normal system devices
/dev/mem        c   640 0   0   1   1   0   0   -
/dev/kmem       c   640 0   0   1   2   0   0   -
/dev/null       c   666 0   0   1   3   0   0   -
/dev/zero       c   666 0   0   1   5   0   0   -
/dev/random     c   666 0   0   1   8   0   0   -
/dev/urandom    c   666 0   0   1   9   0   0   -
/dev/ram        b   640 0   0   1   1   0   0   -
/dev/ram        b   640 0   0   1   0   0   1   4
/dev/loop       b   640 0   0   7   0   0   1   2
/dev/rtc        c   640 0   0   10  135 -   -   -
/dev/console    c   666 0   0   5   1   -   -   -
/dev/tty        c   666 0   0   5   0   -   -   -
/dev/tty        c   666 0   0   4   0   0   1   8
/dev/ttyp       c   666 0   0   3   0   0   1   10
/dev/ptyp       c   666 0   0   2   0   0   1   10
/dev/ptmx       c   666 0   0   5   2   -   -   -
/dev/ttyP       c   666 0   0   57  0   0   1   4
/dev/ttyS       c   666 0   0   4   64  0   1   4
/dev/fb         c   640 0   5   29  0   0   32  4
#/dev/ttySA     c   666 0   0   204 5   0   1   3
/dev/psaux      c   666 0   0   10  1   0   0   -
/dev/ppp        c   666 0   0   108 0   -   -   -
/dev/ttyAM      c   666 0   0   204 16  0   1   4
/dev/ttyCPM     c   666 0   0   204 46  0   1   2

# iMX use /dev/ttymxc0 as default console
/dev/ttymxc     c   660 0   0   207 16  0   0   1
......

$  ./ltib -p dev -f //refresh dev node to rootfs 
</code></pre>

<h1>6. Modify /etc/inittab</h1>

<pre><code>//copy from buildroot

# /etc/inittab
#
# Copyright (C) 2001 Erik Andersen &lt;andersen@codepoet.org&gt;
#
# Note: BusyBox init doesn't support runlevels.  The runlevels field is
# completely ignored by BusyBox init. If you want runlevels, use
# sysvinit.
#
# Format for each entry: &lt;id&gt;:&lt;runlevels&gt;:&lt;action&gt;:&lt;process&gt;
#
# id        == tty to run on, or empty for /dev/console
# runlevels == ignored
# action    == one of sysinit, respawn, askfirst, wait, and once
# process   == program to run

# Startup the system
null::sysinit:/bin/mount -t proc proc /proc
null::sysinit:/bin/mount -o remount,rw /
null::sysinit:/bin/mkdir -p /dev/pts
null::sysinit:/bin/mkdir -p /dev/shm
null::sysinit:/bin/mount -a
null::sysinit:/bin/hostname -F /etc/hostname
# now run any rc scripts
::sysinit:/etc/init.d/rcS

# Put a getty on the serial port
ttymxc0::respawn:/sbin/getty -L  ttymxc0 0 vt100 # GENERIC_SERIAL

# Stuff to do for the 3-finger salute
::ctrlaltdel:/sbin/reboot

# Stuff to do before rebooting
::shutdown:/etc/init.d/rcK
::shutdown:/sbin/swapoff -a
::shutdown:/bin/umount -a -r
</code></pre>

<h1>7. ltib/rootfs is your rootfs</h1>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/07/build-qt5.4.1-and-qt3d-using-vs2013/">Build qt5.4.1 and Qt3d Using Vs2013</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-07T09:55:40+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>9:55 am</span></time>
        
           | <a href="/blog/2015/05/07/build-qt5.4.1-and-qt3d-using-vs2013/#disqus_thread"
             data-disqus-identifier="http://jordonwu.github.io/blog/2015/05/07/build-qt5.4.1-and-qt3d-using-vs2013/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>1. Install required tools</h1>

<ul>
<li>1) Install ActivePerl-5.20.2.2001-MSWin32-x86-64int-298913.msi</li>
<li>2) Install PowerVRSDKSetup-3.4.exe</li>
<li>3) Install gingkoVG SDK</li>
</ul>


<h1>2. Get qt5 source code</h1>

<pre><code>Version: qt-everywhere-opensource-src-5.4.1.tar.xz
</code></pre>

<h1>3. Extract source code and configure</h1>

<pre><code>Source dir: F:\download\qt-everywhere-opensource-src-5.4.1
Build  dir: F:\download\qt-everywhere-opensource-src-5.4.1-build

start cmd from "Developer Command Prompt for VS2013"

D:\Microsoft Visual Studio 12.0&gt;

&gt; set path=D:\perl\bin;%path%
&gt; 
&gt; set INCLUDE=D:\Imagination\PowerVR_Graphics\PowerVR_SDK\SDK_3.4\Builds\Include;%INCLUDE%
&gt; set LIB=D:\Imagination\PowerVR_Graphics\PowerVR_SDK\SDK_3.4\Builds\Windows\x86_64\Lib;%LIB%
&gt;  
&gt; F:
&gt; cd F:\download\qt-everywhere-opensource-src-5.4.1\qtbase
&gt; Add .gitignore file, contain "foo"
&gt;
&gt; cd F:\download\qt-everywhere-opensource-src-5.4.1
&gt; git clone https://github.com/chdinh/qt3d.git qt3d
&gt; 
&gt; cd F:\download\qt-everywhere-opensource-src-5.4.1-build
&gt; ..\qt-everywhere-opensource-src-5.4.1\configure -debug-and-release
    -confirm-license -opensource -platform win32-msvc2013 -prefix "D:\Qt\Qt5.4.1" -qt-libpng -qt-libjpeg -qt-freetype -opengl desktop -openvg -nomake tests -make examples -skip qtwebkit -skip qtwebengine

//configure output
        copy qmake.exe F:\download\qt-everywhere-opensource-src-5.4.1-build\qtbase\bin\qmake.exe
已复制         1 个文件。
Running configuration tests...
Environment:
    INCLUDE=
      D:\Imagination\PowerVR_Graphics\PowerVR_SDK\SDK_3.4\Builds\Include
      D:\Microsoft Visual Studio 12.0\VC\INCLUDE
      D:\Microsoft Visual Studio 12.0\VC\ATLMFC\INCLUDE
      C:\Program Files (x86)\Windows Kits\8.1\include\shared
      C:\Program Files (x86)\Windows Kits\8.1\include\um
      C:\Program Files (x86)\Windows Kits\8.1\include\winrt

    LIB=
      D:\Imagination\PowerVR_Graphics\PowerVR_SDK\SDK_3.4\Builds\Windows\x86_64\Lib
      D:\Microsoft Visual Studio 12.0\VC\LIB
      D:\Microsoft Visual Studio 12.0\VC\ATLMFC\LIB
      C:\Program Files (x86)\Windows Kits\8.1\lib\winv6.3\um\x86

    PATH=
      D:\perl\bin
      D:\Microsoft Visual Studio 12.0\Common7\IDE\CommonExtensions\Microsoft\TestWindow
      C:\Program Files (x86)\Microsoft SDKs\F#\3.1\Framework\v4.0\
      C:\Program Files (x86)\MSBuild\12.0\bin
      D:\Microsoft Visual Studio 12.0\Common7\IDE\
      D:\Microsoft Visual Studio 12.0\VC\BIN
      D:\Microsoft Visual Studio 12.0\Common7\Tools
      C:\Windows\Microsoft.NET\Framework\v4.0.30319
      D:\Microsoft Visual Studio 12.0\VC\VCPackages
      C:\Program Files (x86)\HTML Help Workshop
      D:\Microsoft Visual Studio 12.0\Team Tools\Performance Tools
      C:\Program Files (x86)\Windows Kits\8.1\bin\x86
      C:\Program Files (x86)\Microsoft SDKs\Windows\v8.1A\bin\NETFX 4.5.1 Tools\
      D:\assimp-3.1.1-win-binaries\bin32
      D:\Perl\site\bin
      D:\Perl\bin
      D:\Python27\
      D:\Python27\Scripts
      D:\Qt\Qt5.4.1\5.4\msvc2013_64\bin
      d:\Ruby\Ruby21-x64\bin
      C:\ProgramData\Oracle\Java\javapath
      C:\Windows\system32
      C:\Windows
      C:\Windows\System32\Wbem
      C:\Windows\System32\WindowsPowerShell\v1.0\
      C:\Program Files (x86)\Windows Kits\8.1\Windows Performance Toolkit\
      C:\Program Files\Microsoft SQL Server\110\Tools\Binn\
      D:\GL_Studio_3.2\\bin
      d:\Git\cmd
      D:\TortoiseSVN\bin
Configuration:
    pcre
    debug
    compile_examples
Qt Configuration:
    minimal-config
    small-config
    medium-config
    large-config
    full-config
    debug_and_release build_all release
    debug
    shared
    zlib
    png
    freetype
    harfbuzz
    build_all
    accessibility
    opengl
    openvg
    egl
    audio-backend
    wmf-backend
    native-gestures
    qpa
    concurrent

QMAKESPEC...................win32-msvc2013 (commandline)
Architecture................i386, features: sse sse2
Host Architecture...........i386, features: sse sse2
Maketool....................nmake
Debug build.................yes (combined)
Default build...............debug
Force debug info............no
C++11 support...............auto
Link Time Code Generation...no
Accessibility support.......yes
RTTI support................yes
SSE2 support................yes
SSE3 support................yes
SSSE3 support...............yes
SSE4.1 support..............yes
SSE4.2 support..............yes
AVX support.................yes
AVX2 support................yes
NEON support................no
OpenGL support..............yes
Large File support..........yes
NIS support.................no
Iconv support...............no
Evdev support...............no
Mtdev support...............no
Inotify support.............no
eventfd(7) support..........no
Glib support................no
CUPS support................no
OpenVG support..............yes
SSL support.................no
OpenSSL support.............no
Qt D-Bus support............no
Qt Widgets module support...yes
Qt GUI module support.......yes
QML debugging...............yes
DirectWrite support.........no
Use system proxies..........no

QPA Backends:
    GDI.....................yes
    Direct2D................no

Third Party Libraries:
    ZLIB support............qt
    GIF support.............plugin
    JPEG support............plugin
    PNG support.............yes
    FreeType support........yes
    Fontconfig support......no
    HarfBuzz support........qt
    PCRE support............qt
    ICU support.............no
    ANGLE...................no
    Dynamic OpenGL..........no

Styles:
    Windows.................yes
    Windows XP..............yes
    Windows Vista...........yes
    Fusion..................yes
    Windows CE..............no
    Windows Mobile..........no

Sql Drivers:
    ODBC....................no
    MySQL...................no
    OCI.....................no
    PostgreSQL..............no
    TDS.....................no
    DB2.....................no
    SQLite..................plugin (qt)
    SQLite2.................no
    InterBase...............no

Sources are in..............F:\download\qt-everywhere-opensource-src-5.4.1\qtbase
Build is done in............F:\download\qt-everywhere-opensource-src-5.4.1-build\qtbase
Install prefix..............D:\Qt\Qt5.4.1
Headers installed to........D:\Qt\Qt5.4.1\include
Libraries installed to......D:\Qt\Qt5.4.1\lib
Arch-dep. data to...........D:\Qt\Qt5.4.1
Plugins installed to........D:\Qt\Qt5.4.1\plugins
Library execs installed to..D:\Qt\Qt5.4.1\bin
QML1 imports installed to...D:\Qt\Qt5.4.1\imports
QML2 imports installed to...D:\Qt\Qt5.4.1\qml
Binaries installed to.......D:\Qt\Qt5.4.1\bin
Arch-indep. data to.........D:\Qt\Qt5.4.1
Docs installed to...........D:\Qt\Qt5.4.1\doc
Translations installed to...D:\Qt\Qt5.4.1\translations
Examples installed to.......D:\Qt\Qt5.4.1\examples
Tests installed to..........D:\Qt\Qt5.4.1\tests

Info: creating super cache file F:\download\qt-everywhere-opensource-src-5.4.1-build\.qmake.super


Qt is now configured for building. Just run nmake.
To reconfigure, run nmake confclean and configure.
</code></pre>

<h1>4. Make and Install</h1>

<pre><code>&gt;
&gt; nmake
&gt;
&gt; namke install
&gt; 
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/06/10/sync-a-fork-of-a-repository-to-keep-it-up-to-date-with-the-upstream-repository/">Sync a Fork of a Repository to Keep It Up-to-date With the Upstream Repository</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/28/imx6-summary-upgrade-ltib-l3-dot-0-35-4-dot-1-0-to-l3-dot-0-101-4-dot-1-1/">Imx6 Summary Upgrade Ltib L3.0.35_4.1.0 to L3.0.101_4.1.1</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/26/imx6-summary-build-image-for-imx6-using-yocto/">Imx6 Summary Build Image for Imx6 Using Yocto</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/26/imx6-summary-linux-host-environment-setup/">Imx6 Summary Linux Host Environment Setup</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/26/adding-an-existing-project-to-github/">Adding an Existing Project to Github</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Jordon Wu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jordonwu';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
